{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\frontend\\\\src\\\\components\\\\job_seeker\\\\FilterOverlay.js\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Slider from \"react-native-slider\";\nimport SearchFilterBar from \"./SearchFilterBar\";\nimport CheckBox from \"@react-native-community/checkbox\";\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\nimport { baseUrl } from \"../../utils/constants\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nvar FilterOverlay = function FilterOverlay(_ref) {\n  var jobs = _ref.jobs,\n      handleFilterByText = _ref.handleFilterByText,\n      handleFilterByWager = _ref.handleFilterByWager,\n      filterVisiblity = _ref.filterVisiblity,\n      setFilterVisibility = _ref.setFilterVisibility,\n      handleSelectedService = _ref.handleSelectedService;\n\n  var _useState = useState(1000),\n      _useState2 = _slicedToArray(_useState, 2),\n      wager = _useState2[0],\n      setWager = _useState2[1];\n\n  var _useState3 = useState(new Date()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  var _useState5 = useState(\"date\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mode = _useState6[0],\n      setMode = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      show = _useState8[0],\n      setShow = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      services = _useState10[0],\n      setServices = _useState10[1];\n\n  var _useState11 = useState(new Map()),\n      _useState12 = _slicedToArray(_useState11, 2),\n      checkedService = _useState12[0],\n      setCheckedService = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      minWager = _useState14[0],\n      setMinWager = _useState14[1];\n\n  var _useState15 = useState(10000),\n      _useState16 = _slicedToArray(_useState15, 2),\n      maxWager = _useState16[0],\n      setMaxWager = _useState16[1];\n\n  function dateTimerPickerChange(event, selectedDate) {\n    var currentDate = selectedDate || date;\n    setShow(Platform.OS === \"ios\");\n    setDate(currentDate);\n  }\n\n  function showMode(currentMode) {\n    setShow(true);\n    setMode(currentMode);\n  }\n\n  function showDatepicker() {\n    showMode(\"date\");\n  }\n\n  function searchByService(id) {\n    var isChecked = checkedService.get(id);\n    setCheckedService(new Map(checkedService.set(id, !isChecked)));\n    handleSelectedService(checkedService);\n  }\n\n  function getMinWager(jobsArr) {\n    var job = jobsArr.reduce(function (prevJob, currJob) {\n      parseInt(prevJob.wager_offered) < parseInt(currJob.wager_offered) ? prevJob : prevJob = currJob;\n      return prevJob;\n    });\n    return parseInt(job.wager_offered);\n  }\n\n  function getMaxWager(jobsArr) {\n    var job = jobsArr.reduce(function (prevJob, currJob) {\n      parseInt(prevJob.wager_offered) < parseInt(currJob.wager_offered) ? currJob : currJob = prevJob;\n      return currJob;\n    });\n    return parseInt(job.wager_offered);\n  }\n\n  useEffect(function () {\n    if (jobs.length > 0) {\n      setWager(getMinWager(jobs));\n      setMinWager(getMinWager(jobs));\n      setMaxWager(getMaxWager(jobs));\n    }\n\n    var api_url = baseUrl + \"api/service/list\";\n    fetch(api_url, {\n      method: \"GET\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\"\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      if (response.success) {\n        console.log(\"in filter overlay =============> \", response.result);\n        setServices(response.result);\n      } else {\n        throw new Error(response);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n    return function () {};\n  }, []);\n  return React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: filterVisiblity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.centeredView,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      setFilterVisibility(!filterVisiblity);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: [styles.modalView, {\n      backgroundColor: \"rgba(221, 221, 221, 1)\"\n    }],\n    onStartShouldSetResponder: function onStartShouldSetResponder(event) {\n      event.stopPropagation();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, React.createElement(SearchFilterBar, {\n    handleFilterByText: handleFilterByText,\n    filterVisiblity: filterVisiblity,\n    setFilterVisibility: setFilterVisibility,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: styles.sliderOuterContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.wagerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"Wager:\"), React.createElement(View, {\n    style: styles.sliderContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, React.createElement(Slider, {\n    value: wager,\n    minimumValue: 0,\n    maximumValue: 10000,\n    step: 1,\n    thumbTintColor: \"#3fa4db\",\n    minimumTrackTintColor: \"#3fa4db\",\n    maximumTrackTintColor: \"#b3b3b3\",\n    trackStyle: styles.trackStyle,\n    thumbStyle: styles.thumbStyle,\n    onValueChange: function onValueChange(value) {\n      return setWager(value);\n    },\n    onSlidingComplete: function onSlidingComplete(value) {\n      return handleFilterByWager(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: styles.datePickerContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.inputView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: showDatepicker,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    name: \"created_at\",\n    type: \"text\",\n    style: styles.inputText,\n    placeholder: \"Filter by job post date\",\n    placeholderTextColor: \"#dddddd\",\n    editable: false,\n    value: date.toLocaleDateString(\"nl\", {\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\"\n    }),\n    pointerEvents: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  })), show && React.createElement(DateTimePicker, {\n    testID: \"dateTimePicker\",\n    timeZoneOffsetInMinutes: 0,\n    value: date,\n    mode: mode,\n    is24Hour: true,\n    display: \"default\",\n    onChange: dateTimerPickerChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }))), React.createElement(View, {\n    style: styles.MainContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, React.createElement(FlatList, {\n    data: services,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: \"column\",\n          margin: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.imageThumbnail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 19\n        }\n      }, React.createElement(CheckBox, {\n        value: checkedService.get(item.id),\n        onValueChange: function onValueChange() {\n          return searchByService(item.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }\n      }, item.service_name)));\n    },\n    numColumns: 2,\n    keyExtractor: function keyExtractor(item, index) {\n      return index;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  })))));\n};\n\nvar styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    backgroundColor: \"#388e3c\",\n    opacity: 0.8\n  },\n  modalView: {\n    alignItems: \"center\",\n    height: 300,\n    backgroundColor: \"rgba(221, 221, 221, 0.9)\",\n    flexDirection: \"column\",\n    elevation: 5\n  },\n  contBtn: {\n    backgroundColor: \"#f8bbd0\",\n    borderRadius: 35,\n    marginHorizontal: 20,\n    padding: 15,\n    opacity: 1,\n    elevation: 10\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  contactIcons: {\n    fontSize: 30,\n    color: \"#ffffff\"\n  },\n  sliderOuterContainer: {\n    marginVertical: 10,\n    flexDirection: \"row\",\n    marginHorizontal: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  wagerText: {\n    fontWeight: \"700\"\n  },\n  sliderContainer: {\n    flex: 1,\n    alignItems: \"stretch\",\n    marginLeft: 15,\n    justifyContent: \"center\"\n  },\n  trackStyle: {\n    shadowColor: \"#3fa4db\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 6\n  },\n  thumbStyle: {\n    backgroundColor: \"#3fa4db\",\n    shadowColor: \"#3fa4db\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 10\n  },\n  datePickerContainer: {\n    flexDirection: \"row\",\n    marginHorizontal: 20\n  },\n  inputView: {\n    flex: 1,\n    backgroundColor: \"#ffffff\",\n    borderColor: \"#9E9E9E\",\n    borderWidth: 1,\n    borderRadius: 25,\n    paddingHorizontal: 15,\n    height: 40,\n    justifyContent: \"center\"\n  },\n  inputText: {\n    height: 40,\n    color: \"#333333\"\n  },\n  scrollViewContainer: {\n    marginVertical: 20\n  },\n  MainContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    marginHorizontal: 20,\n    marginVertical: 15,\n    flex: 1\n  },\n  imageThumbnail: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\"\n  }\n});\nexport default FilterOverlay;","map":{"version":3,"sources":["D:/frontend/src/components/job_seeker/FilterOverlay.js"],"names":["React","useState","useEffect","Slider","SearchFilterBar","CheckBox","DateTimePicker","baseUrl","ScrollView","FilterOverlay","jobs","handleFilterByText","handleFilterByWager","filterVisiblity","setFilterVisibility","handleSelectedService","wager","setWager","Date","date","setDate","mode","setMode","show","setShow","services","setServices","Map","checkedService","setCheckedService","minWager","setMinWager","maxWager","setMaxWager","dateTimerPickerChange","event","selectedDate","currentDate","Platform","OS","showMode","currentMode","showDatepicker","searchByService","id","isChecked","get","set","getMinWager","jobsArr","job","reduce","prevJob","currJob","parseInt","wager_offered","getMaxWager","length","api_url","fetch","method","cache","credentials","headers","redirect","referrerPolicy","then","response","json","success","console","log","result","Error","catch","err","styles","centeredView","modalView","backgroundColor","stopPropagation","sliderOuterContainer","wagerText","sliderContainer","trackStyle","thumbStyle","value","datePickerContainer","inputView","inputText","toLocaleDateString","year","month","day","MainContainer","item","flex","flexDirection","margin","imageThumbnail","service_name","index","StyleSheet","create","opacity","alignItems","height","elevation","contBtn","borderRadius","marginHorizontal","padding","textStyle","color","fontWeight","textAlign","modalText","marginBottom","contactIcons","fontSize","marginVertical","justifyContent","marginLeft","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","borderColor","borderWidth","paddingHorizontal","scrollViewContainer"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Modal,\r\n  TouchableOpacity,\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  FlatList,\r\n} from \"react-native\";\r\nimport Slider from \"react-native-slider\";\r\nimport SearchFilterBar from \"./SearchFilterBar\";\r\nimport CheckBox from \"@react-native-community/checkbox\";\r\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\r\nimport {baseUrl} from \"../../utils/constants\";\r\nimport {ScrollView} from \"react-native-gesture-handler\";\r\n\r\nconst FilterOverlay = ({\r\n  jobs,\r\n  handleFilterByText,\r\n  handleFilterByWager,\r\n  filterVisiblity,\r\n  setFilterVisibility,\r\n  handleSelectedService,\r\n}) => {\r\n  const [wager, setWager] = useState(1000);\r\n  const [date, setDate] = useState(new Date());\r\n  const [mode, setMode] = useState(\"date\");\r\n  const [show, setShow] = useState(false);\r\n  const [services, setServices] = useState([]);\r\n  const [checkedService, setCheckedService] = useState(new Map());\r\n  const [minWager, setMinWager] = useState(0);\r\n  const [maxWager, setMaxWager] = useState(10000);\r\n\r\n  function dateTimerPickerChange(event, selectedDate) {\r\n    const currentDate = selectedDate || date;\r\n    setShow(Platform.OS === \"ios\");\r\n    setDate(currentDate);\r\n  }\r\n\r\n  function showMode(currentMode) {\r\n    setShow(true);\r\n    setMode(currentMode);\r\n  }\r\n\r\n  function showDatepicker() {\r\n    showMode(\"date\");\r\n  }\r\n\r\n  function searchByService(id) {\r\n    const isChecked = checkedService.get(id);\r\n    setCheckedService(new Map(checkedService.set(id, !isChecked)));\r\n    handleSelectedService(checkedService);\r\n  }\r\n\r\n  function getMinWager(jobsArr) {\r\n    const job = jobsArr.reduce(function (prevJob, currJob) {\r\n      parseInt(prevJob.wager_offered) < parseInt(currJob.wager_offered)\r\n        ? prevJob\r\n        : (prevJob = currJob);\r\n      return prevJob;\r\n    });\r\n    return parseInt(job.wager_offered);\r\n  }\r\n\r\n  function getMaxWager(jobsArr) {\r\n    const job = jobsArr.reduce(function (prevJob, currJob) {\r\n      parseInt(prevJob.wager_offered) < parseInt(currJob.wager_offered)\r\n        ? currJob\r\n        : (currJob = prevJob);\r\n      return currJob;\r\n    });\r\n    return parseInt(job.wager_offered);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (jobs.length > 0) {\r\n      setWager(getMinWager(jobs));\r\n      setMinWager(getMinWager(jobs));\r\n      setMaxWager(getMaxWager(jobs));\r\n    }\r\n    const api_url = baseUrl + `api/service/list`;\r\n    fetch(api_url, {\r\n      method: \"GET\",\r\n      mode: \"cors\", // no-cors, *cors, same-origin\r\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n      credentials: \"same-origin\", // include, *same-origin, omit\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // 'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n      redirect: \"follow\", // manual, *follow, error\r\n      referrerPolicy: \"no-referrer\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((response) => {\r\n        if (response.success) {\r\n          console.log(\"in filter overlay =============> \", response.result);\r\n          setServices(response.result);\r\n        } else {\r\n          throw new Error(response);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <Modal animationType=\"slide\" transparent={true} visible={filterVisiblity}>\r\n      <View\r\n        style={styles.centeredView}\r\n        onStartShouldSetResponder={() => {\r\n          setFilterVisibility(!filterVisiblity);\r\n        }}\r\n      >\r\n        <View\r\n          style={[\r\n            styles.modalView,\r\n            {backgroundColor: \"rgba(221, 221, 221, 1)\"},\r\n          ]}\r\n          onStartShouldSetResponder={(event) => {\r\n            event.stopPropagation();\r\n          }}\r\n        >\r\n          <SearchFilterBar\r\n            handleFilterByText={handleFilterByText}\r\n            filterVisiblity={filterVisiblity}\r\n            setFilterVisibility={setFilterVisibility}\r\n          />\r\n          <View style={styles.sliderOuterContainer}>\r\n            <Text style={styles.wagerText}>Wager:</Text>\r\n            <View style={styles.sliderContainer}>\r\n              <Slider\r\n                value={wager}\r\n                minimumValue={0}\r\n                maximumValue={10000}\r\n                step={1}\r\n                thumbTintColor=\"#3fa4db\"\r\n                minimumTrackTintColor=\"#3fa4db\"\r\n                maximumTrackTintColor=\"#b3b3b3\"\r\n                trackStyle={styles.trackStyle}\r\n                thumbStyle={styles.thumbStyle}\r\n                onValueChange={(value) => setWager(value)}\r\n                onSlidingComplete={(value) => handleFilterByWager(value)}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.datePickerContainer}>\r\n            <View style={styles.inputView}>\r\n              <TouchableOpacity onPress={showDatepicker}>\r\n                <TextInput\r\n                  name=\"created_at\"\r\n                  type=\"text\"\r\n                  style={styles.inputText}\r\n                  placeholder=\"Filter by job post date\"\r\n                  placeholderTextColor=\"#dddddd\"\r\n                  editable={false}\r\n                  value={date.toLocaleDateString(\"nl\", {\r\n                    year: \"numeric\",\r\n                    month: \"2-digit\",\r\n                    day: \"2-digit\",\r\n                  })}\r\n                  pointerEvents=\"none\"\r\n                />\r\n              </TouchableOpacity>\r\n              {show && (\r\n                <DateTimePicker\r\n                  testID=\"dateTimePicker\"\r\n                  timeZoneOffsetInMinutes={0}\r\n                  value={date}\r\n                  mode={mode}\r\n                  is24Hour={true}\r\n                  display=\"default\"\r\n                  onChange={dateTimerPickerChange}\r\n                />\r\n              )}\r\n            </View>\r\n          </View>\r\n          <View style={styles.MainContainer}>\r\n            <FlatList\r\n              data={services}\r\n              showsVerticalScrollIndicator={false}\r\n              renderItem={({item}) => (\r\n                <View style={{flex: 1, flexDirection: \"column\", margin: 1}}>\r\n                  <View style={styles.imageThumbnail}>\r\n                    <CheckBox\r\n                      value={checkedService.get(item.id)}\r\n                      onValueChange={() => searchByService(item.id)}\r\n                    />\r\n                    <Text>{item.service_name}</Text>\r\n                  </View>\r\n                </View>\r\n              )}\r\n              //Setting the number of column\r\n              numColumns={2}\r\n              keyExtractor={(item, index) => index}\r\n            />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  centeredView: {\r\n    flex: 1,\r\n    backgroundColor: \"#388e3c\",\r\n    opacity: 0.8,\r\n  },\r\n  modalView: {\r\n    alignItems: \"center\",\r\n    height: 300,\r\n    backgroundColor: \"rgba(221, 221, 221, 0.9)\",\r\n    flexDirection: \"column\",\r\n    elevation: 5,\r\n  },\r\n  contBtn: {\r\n    backgroundColor: \"#f8bbd0\",\r\n    borderRadius: 35,\r\n    marginHorizontal: 20,\r\n    padding: 15,\r\n    opacity: 1,\r\n    elevation: 10,\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n  },\r\n  modalText: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n  },\r\n  contactIcons: {\r\n    fontSize: 30,\r\n    color: \"#ffffff\",\r\n  },\r\n  sliderOuterContainer: {\r\n    marginVertical: 10,\r\n    flexDirection: \"row\",\r\n    marginHorizontal: 20,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  wagerText: {\r\n    fontWeight: \"700\",\r\n  },\r\n  sliderContainer: {\r\n    flex: 1,\r\n    alignItems: \"stretch\",\r\n    marginLeft: 15,\r\n    justifyContent: \"center\",\r\n  },\r\n  trackStyle: {\r\n    shadowColor: \"#3fa4db\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 4.65,\r\n    elevation: 6,\r\n  },\r\n  thumbStyle: {\r\n    backgroundColor: \"#3fa4db\",\r\n    shadowColor: \"#3fa4db\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 4.65,\r\n    elevation: 10,\r\n  },\r\n  datePickerContainer: {\r\n    flexDirection: \"row\",\r\n    marginHorizontal: 20,\r\n  },\r\n  inputView: {\r\n    flex: 1,\r\n    backgroundColor: \"#ffffff\",\r\n    borderColor: \"#9E9E9E\",\r\n    borderWidth: 1,\r\n    borderRadius: 25,\r\n    paddingHorizontal: 15,\r\n    height: 40,\r\n    justifyContent: \"center\",\r\n  },\r\n  inputText: {\r\n    height: 40,\r\n    color: \"#333333\",\r\n  },\r\n  scrollViewContainer: {\r\n    marginVertical: 20,\r\n  },\r\n  MainContainer: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    marginHorizontal: 20,\r\n    marginVertical: 15,\r\n    flex: 1,\r\n  },\r\n\r\n  imageThumbnail: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n\r\nexport default FilterOverlay;\r\n"]},"metadata":{},"sourceType":"module"}