{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/rahulsharma/Desktop/Project/frontend/src/components/job_seeker/EditProfile.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Toast from \"react-native-toast-message\";\nimport BottomTabNavigator from \"../job_seeker/BottomTabNavigator\";\nimport ContactOverlay from \"../job_seeker/ContactOverlay\";\nimport SettingsOverlay from \"../job_seeker/SettingsOverlay\";\nimport { baseUrl } from \"../../utils/constants\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { Picker } from \"@react-native-community/picker\";\nimport _ from \"lodash\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport ImageUploadOverlay from \"./ImageUploadOverlay\";\n\nvar EditProfile = function EditProfile(props) {\n  console.log(props.navigation.state);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      routeName = _useState2[0],\n      setRouteName = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      settingModalVisible = _useState6[0],\n      setSettingModalVisible = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      userData = _useState8[0],\n      setUserData = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      jobSeekerData = _useState10[0],\n      setJobSeekerData = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      imagePath = _useState12[0],\n      setImagePath = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      success = _useState14[0],\n      setSuccess = _useState14[1];\n\n  var world_cities = require(\"../../../assets/jsonContent/world_cities.json\");\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      cities = _useState16[0],\n      setCities = _useState16[1];\n\n  function switchToScreen(screen, params) {\n    props.navigation.navigate(screen, params);\n  }\n\n  useEffect(function () {\n    setRouteName(props.navigation.state.routeName);\n    setCities(world_cities.filter(function (city) {\n      return city.country === \"Canada\";\n    }).sort(function (a, b) {\n      return a.city > b.city ? 1 : -1;\n    }));\n\n    try {\n      AsyncStorage.getItem(\"jobSeekerLoginData\").then(function (data) {\n        var _JSON$parse = JSON.parse(data),\n            login = _JSON$parse.login,\n            user = _JSON$parse.user;\n\n        setUserData(login);\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }, []);\n  useEffect(function () {\n    if (userData.id) {\n      var api_url = baseUrl + (\"api/job-seeker/profile/\" + userData.id);\n      fetch(api_url, {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        redirect: \"follow\",\n        referrerPolicy: \"no-referrer\"\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (response.success) {\n          setJobSeekerData(response.result);\n        } else {\n          throw new Error(response);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, [userData]);\n\n  function handleInputChange(text, name) {\n    var jobSeeker = _objectSpread({}, jobSeekerData);\n\n    jobSeeker[name] = text;\n    setJobSeekerData(jobSeeker);\n  }\n\n  function setImageData(imageUri) {\n    setImagePath(imageUri);\n    jobSeekerData[\"image\"] = imageUri;\n    setJobSeekerData(jobSeekerData);\n    setModalVisible(false);\n  }\n\n  function updateProfile() {\n    var data = new FormData();\n\n    if (imagePath) {\n      data.append(\"image\", Platform.OS === \"android\" ? {\n        uri: imagePath,\n        name: \"image.png\",\n        type: \"image/png\"\n      } : {\n        uri: imagePath.replace(\"file://\", \"\"),\n        name: \"image.png\",\n        type: \"image/png\"\n      });\n    }\n\n    data.append(\"title\", jobSeekerData.title);\n    data.append(\"first_name\", jobSeekerData.first_name);\n    data.append(\"last_name\", jobSeekerData.last_name);\n    data.append(\"phone_number\", jobSeekerData.phone_number);\n    data.append(\"company_name\", jobSeekerData.company_name);\n    data.append(\"city\", jobSeekerData.city);\n    data.append(\"id\", jobSeekerData.id);\n    fetch(baseUrl + \"api/job-seeker/profile/edit\", {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: data\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      if (!response.success) {\n        Toast.show({\n          type: \"error\",\n          position: \"top\",\n          text1: \"Error\",\n          text2: \"Something went wrong.\"\n        });\n        throw new Error(response);\n      } else {\n        setJobSeekerData(response.result);\n        Toast.show({\n          type: \"success\",\n          position: \"top\",\n          text1: \"Success\",\n          text2: \"Profile updated successfully.\"\n        });\n      }\n    }).catch(function (err) {\n      Toast.show({\n        type: \"error\",\n        position: \"top\",\n        text1: \"Error\",\n        text2: \"Something went wrong.\"\n      });\n      console.log(err);\n    });\n  }\n\n  var title = jobSeekerData.title,\n      first_name = jobSeekerData.first_name,\n      last_name = jobSeekerData.last_name,\n      phone_number = jobSeekerData.phone_number,\n      company_name = jobSeekerData.company_name,\n      city = jobSeekerData.city;\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.innerContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.imageContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableHighlight, {\n    style: styles.imagePlaceholder,\n    onPress: function onPress() {\n      return setModalVisible(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, jobSeekerData.image ? React.createElement(Image, {\n    style: [styles.profileImage],\n    source: {\n      uri: jobSeekerData.image\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  }) : React.createElement(Image, {\n    source: {\n      uri: \"https://i.ya-webdesign.com/images/blank-profile-picture-png-8.png\"\n    },\n    style: styles.profileImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 37\n    }\n  }))), React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, \"Profile Picture\")), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }, \"Title\"), React.createElement(View, {\n    style: [styles.pickerStyle],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, React.createElement(Picker, {\n    selectedValue: jobSeekerData.title,\n    onValueChange: function onValueChange(itemValue, itemIndex) {\n      return handleInputChange(itemValue, \"title\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Mr.\",\n    value: \"Mr.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"Ms.\",\n    value: \"Ms.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"Mrs.\",\n    value: \"Mrs.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 33\n    }\n  })))), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 25\n    }\n  }, \"First Name\"), React.createElement(TextInput, {\n    style: styles.inputStyle,\n    onChangeText: function onChangeText(text) {\n      return handleInputChange(text, \"first_name\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  }, jobSeekerData.first_name)), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  }, \"Last Name\"), React.createElement(TextInput, {\n    style: styles.inputStyle,\n    onChangeText: function onChangeText(text) {\n      return handleInputChange(text, \"last_name\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 25\n    }\n  }, jobSeekerData.last_name)), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, \"Contact\"), React.createElement(TextInput, {\n    style: styles.inputStyle,\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(text) {\n      return handleInputChange(text, \"phone_number\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 25\n    }\n  }, jobSeekerData.phone_number)), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 25\n    }\n  }, \"Organization\"), React.createElement(TextInput, {\n    style: styles.inputStyle,\n    onChangeText: function onChangeText(text) {\n      return handleInputChange(text, \"company_name\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 25\n    }\n  }, jobSeekerData.company_name)), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.labelText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 25\n    }\n  }, \"City\"), React.createElement(View, {\n    style: [styles.pickerStyle],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 25\n    }\n  }, React.createElement(Picker, {\n    selectedValue: jobSeekerData.city,\n    onValueChange: function onValueChange(itemValue, itemIndex) {\n      return handleInputChange(itemValue, \"city\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 29\n    }\n  }, cities.map(function (city) {\n    return React.createElement(Picker.Item, {\n      key: city.id,\n      label: city.city,\n      value: city.city,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 41\n      }\n    });\n  })))), React.createElement(View, {\n    style: styles.rowContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableHighlight, {\n    style: styles.updateBtn,\n    onPress: updateProfile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 29\n    }\n  }, \"Update Profile\"))))), React.createElement(Toast, {\n    ref: function ref(_ref) {\n      return Toast.setRef(_ref);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.bottomNavigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, React.createElement(BottomTabNavigator, {\n    routeName: routeName,\n    userData: userData,\n    setSettingModalVisible: setSettingModalVisible,\n    switchToScreen: switchToScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }\n  })), React.createElement(ImageUploadOverlay, {\n    setImageData: setImageData,\n    modalVisible: modalVisible,\n    setModalVisible: setModalVisible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  }), React.createElement(SettingsOverlay, {\n    switchToScreen: switchToScreen,\n    settingModalVisible: settingModalVisible,\n    setSettingModalVisible: setSettingModalVisible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  }));\n};\n\nEditProfile[\"navigationOptions\"] = function (screenProps) {\n  return {\n    title: \"Edit Profile\"\n  };\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: \"column\",\n    flex: 1,\n    width: null,\n    height: null\n  },\n  innerContainer: {\n    flex: 9.2\n  },\n  bottomNavigation: {\n    flex: 0.8,\n    backgroundColor: \"#dddddd\",\n    shadowColor: \"#dddddd\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 8\n  },\n  rowContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginHorizontal: 20,\n    marginVertical: 10\n  },\n  labelText: {\n    flex: 1,\n    fontWeight: \"700\",\n    fontSize: 16\n  },\n  pickerStyle: {\n    flex: 2,\n    height: 50,\n    overflow: \"hidden\",\n    borderRadius: 5,\n    backgroundColor: \"#ffffff\",\n    shadowColor: \"#dddddd\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 4\n  },\n  inputStyle: {\n    flex: 2,\n    height: 50,\n    borderRadius: 5,\n    backgroundColor: \"#ffffff\",\n    paddingLeft: 10,\n    shadowColor: \"#dddddd\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    marginLeft: 6,\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 4\n  },\n  imageContainer: {\n    flexDirection: \"column\",\n    margin: 15,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  imagePlaceholder: {\n    backgroundColor: \"#ffffff\",\n    borderRadius: 100,\n    shadowColor: \"#dddddd\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 8\n  },\n  profileImage: {\n    height: 120,\n    width: 120,\n    borderRadius: 100,\n    alignSelf: \"center\"\n  },\n  loginText: {\n    color: \"black\",\n    fontSize: 30,\n    marginTop: 20,\n    marginLeft: 100\n  },\n  updateBtn: {\n    height: 50,\n    width: 180,\n    borderRadius: 25,\n    backgroundColor: \"#fb5b5a\",\n    shadowColor: \"#dddddd\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 8,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\nexport default EditProfile;","map":{"version":3,"sources":["/Users/rahulsharma/Desktop/Project/frontend/src/components/job_seeker/EditProfile.js"],"names":["React","useState","useEffect","Toast","BottomTabNavigator","ContactOverlay","SettingsOverlay","baseUrl","AsyncStorage","Picker","_","ScrollView","ImageUploadOverlay","EditProfile","props","console","log","navigation","state","routeName","setRouteName","modalVisible","setModalVisible","settingModalVisible","setSettingModalVisible","userData","setUserData","jobSeekerData","setJobSeekerData","imagePath","setImagePath","success","setSuccess","world_cities","require","cities","setCities","switchToScreen","screen","params","navigate","filter","city","country","sort","a","b","getItem","then","data","JSON","parse","login","user","error","message","id","api_url","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","response","json","result","Error","catch","err","handleInputChange","text","name","jobSeeker","setImageData","imageUri","updateProfile","FormData","append","Platform","OS","uri","type","replace","title","first_name","last_name","phone_number","company_name","Accept","body","show","position","text1","text2","styles","container","innerContainer","imageContainer","imagePlaceholder","image","profileImage","labelText","rowContainer","pickerStyle","itemValue","itemIndex","inputStyle","map","updateBtn","ref","setRef","bottomNavigation","screenProps","StyleSheet","create","flexDirection","flex","width","height","backgroundColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","justifyContent","alignItems","marginHorizontal","marginVertical","fontWeight","fontSize","overflow","borderRadius","paddingLeft","marginLeft","margin","alignSelf","loginText","color","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {\n    StyleSheet,\n    Text,\n    View,\n    TextInput,\n    Image,\n    TouchableHighlight,\n} from \"react-native\";\nimport Toast from \"react-native-toast-message\";\nimport BottomTabNavigator from \"../job_seeker/BottomTabNavigator\";\nimport ContactOverlay from \"../job_seeker/ContactOverlay\";\nimport SettingsOverlay from \"../job_seeker/SettingsOverlay\";\nimport {baseUrl} from \"../../utils/constants\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport {Picker} from \"@react-native-community/picker\";\nimport _ from \"lodash\";\nimport {ScrollView} from \"react-native-gesture-handler\";\nimport ImageUploadOverlay from \"./ImageUploadOverlay\";\n\nconst EditProfile = (props) => {\n    console.log(props.navigation.state);\n    const [routeName, setRouteName] = useState(null);\n    const [modalVisible, setModalVisible] = useState(false);\n    const [settingModalVisible, setSettingModalVisible] = useState(false);\n    const [userData, setUserData] = useState({});\n    const [jobSeekerData, setJobSeekerData] = useState({});\n    const [imagePath, setImagePath] = useState(null);\n    const [success, setSuccess] = useState(null);\n\n    const world_cities = require(\"../../../assets/jsonContent/world_cities.json\");\n    let [cities, setCities] = useState([]);\n\n    function switchToScreen(screen, params) {\n        props.navigation.navigate(screen, params);\n    }\n\n    useEffect(() => {\n        setRouteName(props.navigation.state.routeName);\n        setCities(\n            world_cities\n                .filter((city) => city.country === \"Canada\")\n                .sort((a, b) => (a.city > b.city ? 1 : -1))\n        );\n\n        try {\n            AsyncStorage.getItem(\"jobSeekerLoginData\").then((data) => {\n                const {login, user} = JSON.parse(data);\n                setUserData(login);\n            });\n        } catch (error) {\n            // Error retrieving data\n            console.log(error.message);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (userData.id) {\n            const api_url = baseUrl + `api/job-seeker/profile/${userData.id}`;\n            fetch(api_url, {\n                method: \"GET\",\n                mode: \"cors\", // no-cors, *cors, same-origin\n                cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n                credentials: \"same-origin\", // include, *same-origin, omit\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                },\n                redirect: \"follow\", // manual, *follow, error\n                referrerPolicy: \"no-referrer\",\n            })\n                .then((response) => response.json())\n                .then((response) => {\n                    if (response.success) {\n                        // this.props.navigation.navigate('Login', {user_type:response.result.user_type})\n                        setJobSeekerData(response.result);\n                    } else {\n                        throw new Error(response);\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        }\n    }, [userData]);\n\n    function handleInputChange(text, name) {\n        const jobSeeker = {...jobSeekerData};\n        jobSeeker[name] = text;\n        setJobSeekerData(jobSeeker);\n    }\n\n    function setImageData(imageUri) {\n        setImagePath(imageUri);\n        jobSeekerData[\"image\"] = imageUri;\n        setJobSeekerData(jobSeekerData);\n        setModalVisible(false);\n    }\n\n    function updateProfile() {\n        let data = new FormData();\n        if (imagePath) {\n            data.append(\n                \"image\",\n                Platform.OS === \"android\"\n                    ? {uri: imagePath, name: \"image.png\", type: \"image/png\"}\n                    : {\n                          uri: imagePath.replace(\"file://\", \"\"),\n                          name: \"image.png\",\n                          type: \"image/png\",\n                      }\n            );\n        }\n        data.append(\"title\", jobSeekerData.title);\n        data.append(\"first_name\", jobSeekerData.first_name);\n        data.append(\"last_name\", jobSeekerData.last_name);\n        data.append(\"phone_number\", jobSeekerData.phone_number);\n        data.append(\"company_name\", jobSeekerData.company_name);\n        data.append(\"city\", jobSeekerData.city);\n        data.append(\"id\", jobSeekerData.id);\n\n        fetch(baseUrl + \"api/job-seeker/profile/edit\", {\n            method: \"POST\",\n            mode: \"cors\", // no-cors, *cors, same-origin\n            cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: \"same-origin\", // include, *same-origin, omit\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"multipart/form-data\",\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: \"follow\", // manual, *follow, error\n            referrerPolicy: \"no-referrer\",\n            body: data,\n        })\n            .then((response) => response.json())\n            .then((response) => {\n                if (!response.success) {\n                    Toast.show({\n                        type: \"error\",\n                        position: \"top\",\n                        text1: \"Error\",\n                        text2: \"Something went wrong.\",\n                    });\n                    throw new Error(response);\n                } else {\n                    setJobSeekerData(response.result);\n                    Toast.show({\n                        type: \"success\",\n                        position: \"top\",\n                        text1: \"Success\",\n                        text2: \"Profile updated successfully.\",\n                    });\n                }\n            })\n            .catch((err) => {\n                Toast.show({\n                    type: \"error\",\n                    position: \"top\",\n                    text1: \"Error\",\n                    text2: \"Something went wrong.\",\n                });\n                console.log(err);\n            });\n    }\n\n    const {\n        title,\n        first_name,\n        last_name,\n        phone_number,\n        company_name,\n        city,\n    } = jobSeekerData;\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.innerContainer}>\n                <ScrollView>\n                    <View style={styles.imageContainer}>\n                        <TouchableHighlight\n                            style={styles.imagePlaceholder}\n                            onPress={() => setModalVisible(true)}\n                        >\n                            <View>\n                                {jobSeekerData.image ? (\n                                    <Image\n                                        style={[styles.profileImage]}\n                                        source={{uri: jobSeekerData.image}}\n                                    />\n                                ) : (\n                                    <Image\n                                        source={{\n                                            uri:\n                                                \"https://i.ya-webdesign.com/images/blank-profile-picture-png-8.png\",\n                                        }}\n                                        style={styles.profileImage}\n                                    />\n                                )}\n                            </View>\n                        </TouchableHighlight>\n                        <Text style={styles.labelText}>Profile Picture</Text>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <Text style={styles.labelText}>Title</Text>\n                        <View style={[styles.pickerStyle]}>\n                            <Picker\n                                selectedValue={jobSeekerData.title}\n                                onValueChange={(itemValue, itemIndex) =>\n                                    handleInputChange(itemValue, \"title\")\n                                }\n                            >\n                                <Picker.Item label=\"Mr.\" value=\"Mr.\" />\n                                <Picker.Item label=\"Ms.\" value=\"Ms.\" />\n                                <Picker.Item label=\"Mrs.\" value=\"Mrs.\" />\n                            </Picker>\n                        </View>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <Text style={styles.labelText}>First Name</Text>\n                        <TextInput\n                            style={styles.inputStyle}\n                            onChangeText={(text) =>\n                                handleInputChange(text, \"first_name\")\n                            }\n                        >\n                            {jobSeekerData.first_name}\n                        </TextInput>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <Text style={styles.labelText}>Last Name</Text>\n                        <TextInput\n                            style={styles.inputStyle}\n                            onChangeText={(text) =>\n                                handleInputChange(text, \"last_name\")\n                            }\n                        >\n                            {jobSeekerData.last_name}\n                        </TextInput>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <Text style={styles.labelText}>Contact</Text>\n                        <TextInput\n                            style={styles.inputStyle}\n                            keyboardType=\"numeric\"\n                            onChangeText={(text) =>\n                                handleInputChange(text, \"phone_number\")\n                            }\n                        >\n                            {jobSeekerData.phone_number}\n                        </TextInput>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <Text style={styles.labelText}>Organization</Text>\n                        <TextInput\n                            style={styles.inputStyle}\n                            onChangeText={(text) =>\n                                handleInputChange(text, \"company_name\")\n                            }\n                        >\n                            {jobSeekerData.company_name}\n                        </TextInput>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <Text style={styles.labelText}>City</Text>\n                        <View style={[styles.pickerStyle]}>\n                            <Picker\n                                selectedValue={jobSeekerData.city}\n                                onValueChange={(itemValue, itemIndex) =>\n                                    handleInputChange(itemValue, \"city\")\n                                }\n                            >\n                                {cities.map((city) => {\n                                    return (\n                                        <Picker.Item\n                                            key={city.id}\n                                            label={city.city}\n                                            value={city.city}\n                                        />\n                                    );\n                                })}\n                            </Picker>\n                        </View>\n                    </View>\n                    <View style={styles.rowContainer}>\n                        <TouchableHighlight\n                            style={styles.updateBtn}\n                            onPress={updateProfile}\n                        >\n                            <Text>Update Profile</Text>\n                        </TouchableHighlight>\n                    </View>\n                </ScrollView>\n            </View>\n            <Toast ref={(ref) => Toast.setRef(ref)} />\n            <View style={styles.bottomNavigation}>\n                <BottomTabNavigator\n                    routeName={routeName}\n                    userData={userData}\n                    setSettingModalVisible={setSettingModalVisible}\n                    switchToScreen={switchToScreen}\n                />\n            </View>\n            <ImageUploadOverlay\n                setImageData={setImageData}\n                modalVisible={modalVisible}\n                setModalVisible={setModalVisible}\n            />\n            <SettingsOverlay\n                switchToScreen={switchToScreen}\n                settingModalVisible={settingModalVisible}\n                setSettingModalVisible={setSettingModalVisible}\n            />\n        </View>\n    );\n};\n\nEditProfile[\"navigationOptions\"] = (screenProps) => ({\n    title: \"Edit Profile\",\n});\n\nconst styles = StyleSheet.create({\n    container: {\n        flexDirection: \"column\",\n        flex: 1,\n        width: null,\n        height: null,\n    },\n    innerContainer: {\n        flex: 9.2,\n    },\n    bottomNavigation: {\n        flex: 0.8,\n        backgroundColor: \"#dddddd\",\n        shadowColor: \"#dddddd\",\n        shadowOffset: {\n            width: 0,\n            height: 4,\n        },\n        shadowOpacity: 0.3,\n        shadowRadius: 4.65,\n        elevation: 8,\n    },\n    rowContainer: {\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginHorizontal: 20,\n        marginVertical: 10,\n    },\n    labelText: {\n        flex: 1,\n        fontWeight: \"700\",\n        fontSize: 16,\n    },\n    pickerStyle: {\n        flex: 2,\n        height: 50,\n        overflow: \"hidden\",\n        borderRadius: 5,\n        backgroundColor: \"#ffffff\",\n        shadowColor: \"#dddddd\",\n        shadowOffset: {\n            width: 0,\n            height: 4,\n        },\n        shadowOpacity: 0.3,\n        shadowRadius: 4.65,\n        elevation: 4,\n    },\n    inputStyle: {\n        flex: 2,\n        height: 50,\n        borderRadius: 5,\n        backgroundColor: \"#ffffff\",\n        paddingLeft: 10,\n        shadowColor: \"#dddddd\",\n        shadowOffset: {\n            width: 0,\n            height: 4,\n        },\n        marginLeft: 6,\n        shadowOpacity: 0.3,\n        shadowRadius: 4.65,\n        elevation: 4,\n    },\n    imageContainer: {\n        flexDirection: \"column\",\n        margin: 15,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    imagePlaceholder: {\n        backgroundColor: \"#ffffff\",\n        borderRadius: 100,\n        shadowColor: \"#dddddd\",\n        shadowOffset: {\n            width: 0,\n            height: 4,\n        },\n        shadowOpacity: 0.3,\n        shadowRadius: 4.65,\n        elevation: 8,\n    },\n    profileImage: {\n        height: 120,\n        width: 120,\n        borderRadius: 100,\n        alignSelf: \"center\",\n    },\n    loginText: {\n        color: \"black\",\n        fontSize: 30,\n        marginTop: 20,\n        marginLeft: 100,\n    },\n    updateBtn: {\n        height: 50,\n        width: 180,\n        borderRadius: 25,\n        backgroundColor: \"#fb5b5a\",\n        shadowColor: \"#dddddd\",\n        shadowOffset: {\n            width: 0,\n            height: 4,\n        },\n        shadowOpacity: 0.3,\n        shadowRadius: 4.65,\n        elevation: 8,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n});\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}