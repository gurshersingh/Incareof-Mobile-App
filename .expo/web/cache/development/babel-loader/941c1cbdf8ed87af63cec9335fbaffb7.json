{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/rahulsharma/Desktop/Project/frontend/src/containers/SocialLogin.js\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport * as Facebook from \"expo-facebook\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nconsole.disableYellowBox = true;\nexport default function SocialLogin() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoggedin = _useState2[0],\n      setLoggedinStatus = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userData = _useState4[0],\n      setUserData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isImageLoading = _useState6[0],\n      setImageLoadStatus = _useState6[1];\n\n  facebookLogIn = function facebookLogIn() {\n    var FB_APP_ID, _await$Facebook$logIn, type, token, expires, permissions, declinedPermissions, message;\n\n    return _regeneratorRuntime.async(function facebookLogIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            FB_APP_ID = \"320335242291060\";\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Facebook.initializeAsync(FB_APP_ID));\n\n          case 4:\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync(FB_APP_ID, {\n              permissions: [\"public_profile\"]\n            }));\n\n          case 6:\n            _await$Facebook$logIn = _context.sent;\n            type = _await$Facebook$logIn.type;\n            token = _await$Facebook$logIn.token;\n            expires = _await$Facebook$logIn.expires;\n            permissions = _await$Facebook$logIn.permissions;\n            declinedPermissions = _await$Facebook$logIn.declinedPermissions;\n            console.log({\n              type: type,\n              token: token,\n              expires: expires,\n              permissions: permissions,\n              declinedPermissions: declinedPermissions\n            });\n\n            if (type === \"success\") {\n              fetch(\"https://graph.facebook.com/me?access_token=\" + token + \"&fields=id,name,email,picture.height(500)\").then(function (response) {\n                return response.json();\n              }).then(function (data) {\n                setLoggedinStatus(true);\n                setUserData(data);\n              }).catch(function (e) {\n                return console.log(e);\n              });\n            } else {}\n\n            _context.next = 20;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](0);\n            message = _context.t0.message;\n            alert(\"Facebook Login Error: \" + message);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 16]], Promise);\n  };\n\n  logout = function logout() {\n    setLoggedinStatus(false);\n    setUserData(null);\n    setImageLoadStatus(false);\n  };\n\n  return isLoggedin ? userData ? React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: {\n      width: 200,\n      height: 200,\n      borderRadius: 50\n    },\n    source: {\n      uri: userData.picture.data.url\n    },\n    onLoadEnd: function onLoadEnd() {\n      return setImageLoadStatus(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#0000ff\",\n    animating: !isImageLoading,\n    style: {\n      position: \"absolute\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontSize: 22,\n      marginVertical: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Hi \", userData.name, \"!\"), React.createElement(TouchableOpacity, {\n    style: styles.logoutBtn,\n    onPress: this.logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Logout\"))) : null : React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: {\n      width: 200,\n      height: 200,\n      borderRadius: 50,\n      marginVertical: 20\n    },\n    source: {\n      uri: \"https://cdn4.iconfinder.com/data/icons/logos-3/600/React.js_logo-512.png\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.loginBtn,\n    onPress: this.facebookLogIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"facebook\",\n    size: 24,\n    color: \"#ffffff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Login with Facebook\")));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#e9ebee\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  loginBtn: {\n    backgroundColor: \"#4267b2\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 20\n  },\n  logoutBtn: {\n    backgroundColor: \"grey\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 20,\n    position: \"absolute\",\n    bottom: 0\n  }\n});","map":{"version":3,"sources":["/Users/rahulsharma/Desktop/Project/frontend/src/containers/SocialLogin.js"],"names":["React","useState","Facebook","FontAwesome","console","disableYellowBox","SocialLogin","isLoggedin","setLoggedinStatus","userData","setUserData","isImageLoading","setImageLoadStatus","facebookLogIn","FB_APP_ID","initializeAsync","logInWithReadPermissionsAsync","permissions","type","token","expires","declinedPermissions","log","fetch","then","response","json","data","catch","e","message","alert","logout","styles","container","width","height","borderRadius","uri","picture","url","position","fontSize","marginVertical","name","logoutBtn","color","loginBtn","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","paddingVertical","paddingHorizontal","bottom"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport {\n    StyleSheet,\n    Text,\n    View,\n    Image,\n    TouchableOpacity,\n    ActivityIndicator,\n} from \"react-native\";\nimport * as Facebook from \"expo-facebook\";\nimport {FontAwesome} from \"@expo/vector-icons\";\n\nconsole.disableYellowBox = true;\n\nexport default function SocialLogin() {\n    const [isLoggedin, setLoggedinStatus] = useState(false);\n    const [userData, setUserData] = useState(null);\n    const [isImageLoading, setImageLoadStatus] = useState(false);\n\n    facebookLogIn = async () => {\n        try {\n            // 1103337533366321\n            const FB_APP_ID = \"320335242291060\";\n            await Facebook.initializeAsync(FB_APP_ID);\n\n            const {\n                type,\n                token,\n                expires,\n                permissions,\n                declinedPermissions,\n            } = await Facebook.logInWithReadPermissionsAsync(FB_APP_ID, {\n                permissions: [\"public_profile\"],\n            });\n\n            console.log({\n                type,\n                token,\n                expires,\n                permissions,\n                declinedPermissions,\n            });\n\n            if (type === \"success\") {\n                // Get the user's name using Facebook's Graph API\n                fetch(\n                    `https://graph.facebook.com/me?access_token=${token}&fields=id,name,email,picture.height(500)`\n                )\n                    .then((response) => response.json())\n                    .then((data) => {\n                        setLoggedinStatus(true);\n                        setUserData(data);\n                    })\n                    .catch((e) => console.log(e));\n            } else {\n                // type === 'cancel'\n            }\n        } catch ({message}) {\n            alert(`Facebook Login Error: ${message}`);\n        }\n    };\n\n    logout = () => {\n        setLoggedinStatus(false);\n        setUserData(null);\n        setImageLoadStatus(false);\n    };\n\n    return isLoggedin ? (\n        userData ? (\n            <View style={styles.container}>\n                <Image\n                    style={{width: 200, height: 200, borderRadius: 50}}\n                    source={{uri: userData.picture.data.url}}\n                    onLoadEnd={() => setImageLoadStatus(true)}\n                />\n                <ActivityIndicator\n                    size=\"large\"\n                    color=\"#0000ff\"\n                    animating={!isImageLoading}\n                    style={{position: \"absolute\"}}\n                />\n                <Text style={{fontSize: 22, marginVertical: 10}}>\n                    Hi {userData.name}!\n                </Text>\n                <TouchableOpacity\n                    style={styles.logoutBtn}\n                    onPress={this.logout}\n                >\n                    <Text style={{color: \"#fff\"}}>Logout</Text>\n                </TouchableOpacity>\n            </View>\n        ) : null\n    ) : (\n        <View style={styles.container}>\n            <Image\n                style={{\n                    width: 200,\n                    height: 200,\n                    borderRadius: 50,\n                    marginVertical: 20,\n                }}\n                source={{\n                    uri:\n                        \"https://cdn4.iconfinder.com/data/icons/logos-3/600/React.js_logo-512.png\",\n                }}\n            />\n            <TouchableOpacity\n                style={styles.loginBtn}\n                onPress={this.facebookLogIn}\n            >\n                <FontAwesome name=\"facebook\" size={24} color=\"#ffffff\" />\n                <Text style={{color: \"#fff\"}}>Login with Facebook</Text>\n            </TouchableOpacity>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: \"#e9ebee\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    loginBtn: {\n        backgroundColor: \"#4267b2\",\n        paddingVertical: 10,\n        paddingHorizontal: 20,\n        borderRadius: 20,\n    },\n    logoutBtn: {\n        backgroundColor: \"grey\",\n        paddingVertical: 10,\n        paddingHorizontal: 20,\n        borderRadius: 20,\n        position: \"absolute\",\n        bottom: 0,\n    },\n});\n"]},"metadata":{},"sourceType":"module"}